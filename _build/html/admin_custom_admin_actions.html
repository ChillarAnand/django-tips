

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Custom admin actions for individual &amp; bulk objects &mdash; django-tips  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Retrieve foreign key fields in admin list display" href="admin_allow_foreignkey_attributes.html" />
    <link rel="prev" title="Hyperlink Foreignkey Fields To Its Change View In Admin" href="admin_hyperlink_foreignkey.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> django-tips
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="admin_auto_register_models.html">Automatically Register All Models In Admin</a></li>
<li class="toctree-l1"><a class="reference internal" href="admin_hyperlink_foreignkey.html">Hyperlink Foreignkey Fields To Its Change View In Admin</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Custom admin actions for individual &amp; bulk objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="admin_allow_foreignkey_attributes.html">Retrieve foreign key fields in admin list display</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">django-tips</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Custom admin actions for individual &amp; bulk objects</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/admin_custom_admin_actions.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="custom-admin-actions-for-individual-bulk-objects">
<h1>Custom admin actions for individual &amp; bulk objects<a class="headerlink" href="#custom-admin-actions-for-individual-bulk-objects" title="Permalink to this headline">¶</a></h1>
<p>In the earlier chapters, we have re-registered django auth user model using a proxy model.</p>
<p>Django provides admin actions which work on a queryset level. For example, we can select a bunch of users and delete them.</p>
<p>We can also write custom admin actions to perform other operations. For example, we can write a custom admin action to activate selected users.</p>
<p>These custom admin actions are efficient when we are taking an action on bulk items. For taking a specific action on single item, using custom actions will be inefficient.</p>
<p>For example, to delete a single user, we need to follow these steps.</p>
<blockquote>
<div>First, we have to select that user record.
Next, we have to click on the action dropdown
Next, we have to select delete action
Next, we have to click Go button.
In the next page we have to confirm that we have to delete.</div></blockquote>
<p>Just to delete a single record, we have to perform 5 clicks. That’s too many clicks for a single action.</p>
<p>To simplify the process, we can have delete button at row level. This can be achieved by writing a function which will insert delete button for every record.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">django.contrib</span> <span class="kn">import</span> <span class="n">admin</span>

<span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">models</span>


<span class="k">class</span> <span class="nc">ResourceAdmin</span><span class="p">(</span><span class="n">admin</span><span class="o">.</span><span class="n">ModelAdmin</span><span class="p">):</span>
<span class="k">def</span> <span class="nf">delete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
<span class="k">return</span> <span class="s1">&#39;&lt;input type=&quot;button&quot; value=&quot;Delete&quot; onclick=&quot;location.href=</span><span class="se">\&#39;</span><span class="si">%s</span><span class="s1">/delete/</span><span class="se">\&#39;</span><span class="s1">&quot; /&gt;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">pk</span><span class="p">)</span>

    <span class="n">delete</span><span class="o">.</span><span class="n">allow_tags</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="n">delete</span><span class="o">.</span><span class="n">short_description</span> <span class="o">=</span> <span class="s1">&#39;Delete object&#39;</span>

    <span class="n">list_display</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;book&#39;</span><span class="p">,</span>  <span class="s1">&#39;book_type&#39;</span><span class="p">,</span> <span class="s1">&#39;url&#39;</span><span class="p">,</span> <span class="s1">&#39;delete&#39;</span><span class="p">)</span>


<span class="n">admin</span><span class="o">.</span><span class="n">site</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Book</span><span class="p">)</span>
</pre></div>
</div>
<p>Now we have an admin with delete button for the records.</p>
<p>To delete an object, just click on delete button and then confirm to delete it. Now, we are deleting objects with just 2 clicks.</p>
<p>We can also have buttons with custom actions. For example, we can add a button which will toggle the active status of an user.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
<p>In this chapter, we have seen how to write custom admin actions which work on single item as well as bulk items.</p>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="admin_allow_foreignkey_attributes.html" class="btn btn-neutral float-right" title="Retrieve foreign key fields in admin list display" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="admin_hyperlink_foreignkey.html" class="btn btn-neutral float-left" title="Hyperlink Foreignkey Fields To Its Change View In Admin" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, ChillarAnand

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>